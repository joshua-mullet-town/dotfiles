set -g mouse on

# Window sizing: use the most recent client's size, not smallest
# This prevents the annoying resize-and-scroll when switching between phone/laptop
set-option -g window-size latest

# Only resize when clients are viewing the same window, not just same session
set-option -g aggressive-resize on

# Enable mouse wheel scrolling - works with xterm.js
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'select-pane -t=; copy-mode -e; send-keys -M'"
bind -n WheelDownPane select-pane -t= \; send-keys -M

# Terminal overrides for better xterm compatibility
set -ga terminal-overrides ',xterm*:smcup@:rmcup@'
